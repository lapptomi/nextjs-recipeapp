(()=>{var e={};e.id=11,e.ids=[11],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},16825:(e,r,a)=>{"use strict";a.r(r),a.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>l,routeModule:()=>p,tree:()=>o});var t=a(67096),s=a(16132),i=a(37284),n=a.n(i),d=a(32564),c={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>d[e]);a.d(r,c);let o=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,67779)),"/Users/lapptomi/recipe-app-pro/src/app/register/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,80102)),"/Users/lapptomi/recipe-app-pro/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/lapptomi/recipe-app-pro/src/app/register/page.tsx"],m="/register/page",u={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},28051:(e,r,a)=>{let t={c7ad9ab785f81c57c3b7e0a784bd08e37a398fba:()=>Promise.resolve().then(a.bind(a,61671)).then(e=>e.create),"6a46f429989b8535c7e0b835e8ce19e270481d35":()=>Promise.resolve().then(a.bind(a,61671)).then(e=>e.getById),"8e855dbecf6df8f48182e478d32a2015a86d1b82":()=>Promise.resolve().then(a.bind(a,61671)).then(e=>e.createComment),"8cb5fd5fa17312aad4c2215206db1eadc0dff15a":()=>Promise.resolve().then(a.bind(a,61671)).then(e=>e.getAll),"847a546c49c553d40cadf884df4f33bfbb411a2c":()=>Promise.resolve().then(a.bind(a,61671)).then(e=>e.deleteById),dddc95ba850a8fea867e131db5dc95678f057f6a:()=>Promise.resolve().then(a.bind(a,32217)).then(e=>e.findById),"86ac5fa46274d201cbaa0207a4c910ee2657fc6d":()=>Promise.resolve().then(a.bind(a,32217)).then(e=>e.create),f431b4e54142289df82f056a79d66c26de8527ac:()=>Promise.resolve().then(a.bind(a,32217)).then(e=>e.getAll),"0329cdabc2d2aee2225f1f7b97b4848140815f9f":()=>Promise.resolve().then(a.bind(a,32217)).then(e=>e.deleteById)};async function s(e,...r){let a=await t[e]();return a.apply(null,r)}e.exports={c7ad9ab785f81c57c3b7e0a784bd08e37a398fba:s.bind(null,"c7ad9ab785f81c57c3b7e0a784bd08e37a398fba"),"6a46f429989b8535c7e0b835e8ce19e270481d35":s.bind(null,"6a46f429989b8535c7e0b835e8ce19e270481d35"),"8e855dbecf6df8f48182e478d32a2015a86d1b82":s.bind(null,"8e855dbecf6df8f48182e478d32a2015a86d1b82"),"8cb5fd5fa17312aad4c2215206db1eadc0dff15a":s.bind(null,"8cb5fd5fa17312aad4c2215206db1eadc0dff15a"),"847a546c49c553d40cadf884df4f33bfbb411a2c":s.bind(null,"847a546c49c553d40cadf884df4f33bfbb411a2c"),dddc95ba850a8fea867e131db5dc95678f057f6a:s.bind(null,"dddc95ba850a8fea867e131db5dc95678f057f6a"),"86ac5fa46274d201cbaa0207a4c910ee2657fc6d":s.bind(null,"86ac5fa46274d201cbaa0207a4c910ee2657fc6d"),f431b4e54142289df82f056a79d66c26de8527ac:s.bind(null,"f431b4e54142289df82f056a79d66c26de8527ac"),"0329cdabc2d2aee2225f1f7b97b4848140815f9f":s.bind(null,"0329cdabc2d2aee2225f1f7b97b4848140815f9f")}},38068:(e,r,a)=>{Promise.resolve().then(a.bind(a,59013)),Promise.resolve().then(a.bind(a,51752)),Promise.resolve().then(a.bind(a,70443)),Promise.resolve().then(a.bind(a,23929))},59013:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>t.Z});var t=a(90509)},10137:(e,r,a)=>{"use strict";a.d(r,{cF:()=>t,hI:()=>s});var t={};a.r(t),a.d(t,{create:()=>c,createComment:()=>l,deleteById:()=>o,getAll:()=>n,getById:()=>d});var s={};a.r(s),a.d(s,{create:()=>p,deleteById:()=>f,findById:()=>u,getAll:()=>m}),a(90167),a(2377),a(38583);var i=a(21716),n=(0,i.$)("8cb5fd5fa17312aad4c2215206db1eadc0dff15a"),d=(0,i.$)("6a46f429989b8535c7e0b835e8ce19e270481d35"),c=(0,i.$)("c7ad9ab785f81c57c3b7e0a784bd08e37a398fba"),o=(0,i.$)("847a546c49c553d40cadf884df4f33bfbb411a2c"),l=(0,i.$)("8e855dbecf6df8f48182e478d32a2015a86d1b82"),m=(0,i.$)("f431b4e54142289df82f056a79d66c26de8527ac"),u=(0,i.$)("dddc95ba850a8fea867e131db5dc95678f057f6a"),p=(0,i.$)("86ac5fa46274d201cbaa0207a4c910ee2657fc6d"),f=(0,i.$)("0329cdabc2d2aee2225f1f7b97b4848140815f9f")},23929:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>g});var t=a(53854),s=a(34218),i=a(44468),n=a(15185),d=a(43958),c=a(91494),o=a(30505),l=a(21703),m=a(24319),u=a(66609);a(23824);var p=a(92747),f=a(950),b=a(12585),h=a(10137);let g=()=>{let[e,r]=(0,s.useState)(""),[a,g]=(0,s.useState)(""),{register:x,handleSubmit:y,formState:{errors:v}}=(0,p.cI)({defaultValues:{email:"",username:"",password:""},resolver:(0,i.F)(b.c)});return(0,t.jsxs)("div",{className:"signform",children:[e&&t.jsx(n.Z,{severity:"error",children:e}),t.jsx(d.Z,{component:"h1",variant:"h5",children:"Sign Up"}),(0,t.jsxs)("form",{onSubmit:y(({email:e,username:t,password:s})=>{if(s!==a){r("Passwords do not match");return}h.hI.create({email:e,username:t,password:s}).then(()=>{(0,u.signIn)("credentials",{email:e,password:s,redirect:!0,callbackUrl:"/recipes"})}).catch(e=>{r(e.message)})}),children:[t.jsx(c.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Email Address",autoFocus:!0,...x("email"),error:!!v.email,helperText:v.email?.message}),t.jsx(c.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Username",autoFocus:!0,error:!!v.username,helperText:v.username?.message,...x("username")}),t.jsx(c.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",error:!!v.password,helperText:v.password?.message,...x("password")}),t.jsx(c.Z,{margin:"normal",required:!0,fullWidth:!0,label:"Confirm Password",type:"password",onChange:e=>g(e.target.value)}),t.jsx(o.Z,{color:"primary",type:"submit",fullWidth:!0,variant:"contained",children:"Sign Up"})]}),(0,t.jsxs)(l.ZP,{container:!0,children:[t.jsx(l.ZP,{item:!0,xs:!0,children:t.jsx(m.Z,{href:"/resetpassword",variant:"body2",children:"Forgot password?"})}),t.jsx(l.ZP,{item:!0,children:t.jsx(m.Z,{href:"/register",variant:"body2",children:"Dont have an account? Sign Up"})})]}),t.jsx(d.Z,{variant:"body2",color:"GrayText",align:"center",children:`Copyright \xa9 ${f.x} ${new Date().getFullYear()}.`})]})}},950:(e,r,a)=>{"use strict";a.d(r,{x:()=>t});let t="RecipeBook Pro"},12585:(e,r,a)=>{"use strict";a.d(r,{c:()=>i,t:()=>s});var t=a(61460);let s=t.z.object({title:t.z.string().min(4).max(18),description:t.z.string().min(4).max(18),ingredients:t.z.array(t.z.object({ingredient:t.z.string().min(4).max(18)})).min(1).max(200),instructions:t.z.string().min(4).max(4e3),cookingTime:t.z.number().optional(),servings:t.z.number().optional()}),i=t.z.object({email:t.z.string().email(),username:t.z.string().min(4).max(18),password:t.z.string().min(4).max(18)})},39228:e=>{e.exports={maincontainer:"RegisterPage_maincontainer___kf1Y",header:"RegisterPage_header__rV_vn",maingrid:"RegisterPage_maingrid__jgH9l",headercontainer:"RegisterPage_headercontainer__jhGHG",registerformcontainer:"RegisterPage_registerformcontainer__UppdA"}},99752:(e,r,a)=>{"use strict";a.d(r,{ZP:()=>c});var t=a(95153);let s=(0,t.createProxy)(String.raw`/Users/lapptomi/recipe-app-pro/node_modules/@mui/material/Box/index.js`),{__esModule:i,$$typeof:n}=s,d=s.default,c=d},44494:(e,r,a)=>{let{createProxy:t}=a(95153);e.exports=t("/Users/lapptomi/recipe-app-pro/node_modules/@mui/material/Grid/index.js")},68927:(e,r,a)=>{let{createProxy:t}=a(95153);e.exports=t("/Users/lapptomi/recipe-app-pro/node_modules/@mui/material/Paper/index.js")},61671:(e,r,a)=>{"use strict";a.r(r),a.d(r,{create:()=>m,createComment:()=>p,deleteById:()=>u,getAll:()=>o,getById:()=>l});var t=a(68065);a(18106);var s=a(38973),i=a(68755),n=a(58065),d=a(74006),c=a(28116);let o=async()=>{try{let e=await n.prisma.recipe.findMany({include:{author:!0}});return e}catch(e){throw Error(e.message)}},l=async e=>{try{let r=await n.prisma.recipe.findUnique({where:{id:e},include:{author:!0}});return r}catch(e){throw Error(e.message)}},m=async e=>{let r=await (0,s.getServerSession)(i.options);if(!r)throw Error("Not authenticated");try{let a=d.RecipeSchema.parse(e),t=await n.prisma.recipe.create({data:{...a,authorId:Number(r.user.id),ingredients:a.ingredients.map(e=>e.ingredient)}});return t}catch(e){throw Error(e.message)}},u=async e=>{try{let r=await n.prisma.recipe.delete({where:{id:e}});return r}catch(e){throw Error(e.message)}},p=async e=>{try{let r=await (0,s.getServerSession)(i.options);if(!r)throw Error("Not authenticated");let a=await n.prisma.recipeComment.create({data:{...e,authorId:Number(r.user.id)}});return a}catch(e){throw Error(e.message)}};(0,c.ensureServerEntryExports)([o,l,m,u,p]),(0,t.createActionProxy)("8cb5fd5fa17312aad4c2215206db1eadc0dff15a",null,o),(0,t.createActionProxy)("6a46f429989b8535c7e0b835e8ce19e270481d35",null,l),(0,t.createActionProxy)("c7ad9ab785f81c57c3b7e0a784bd08e37a398fba",null,m),(0,t.createActionProxy)("847a546c49c553d40cadf884df4f33bfbb411a2c",null,u),(0,t.createActionProxy)("8e855dbecf6df8f48182e478d32a2015a86d1b82",null,p)},32217:(e,r,a)=>{"use strict";a.r(r),a.d(r,{create:()=>o,deleteById:()=>l,findById:()=>c,getAll:()=>d});var t=a(68065);a(18106);var s=a(58065),i=a(74006),n=a(28116);let d=async()=>{try{let e=await s.prisma.user.findMany({include:{recipes:!0}});return e}catch(e){throw Error(e)}},c=async e=>{try{let r=await s.prisma.user.findUnique({where:{id:e}});return r}catch(e){throw Error(e)}},o=async e=>{try{let r=i.UserSchema.parse(e),a=await s.prisma.user.create({data:r});return a}catch(e){throw Error(e)}},l=async e=>{try{let r=await s.prisma.user.delete({where:{id:e}});return r}catch(e){throw Error(e)}};(0,n.ensureServerEntryExports)([d,c,o,l]),(0,t.createActionProxy)("f431b4e54142289df82f056a79d66c26de8527ac",null,d),(0,t.createActionProxy)("dddc95ba850a8fea867e131db5dc95678f057f6a",null,c),(0,t.createActionProxy)("86ac5fa46274d201cbaa0207a4c910ee2657fc6d",null,o),(0,t.createActionProxy)("0329cdabc2d2aee2225f1f7b97b4848140815f9f",null,l)},68755:(e,r,a)=>{"use strict";a.d(r,{options:()=>n});var t=a(98195),s=a(65183),i=a(58065);let n={pages:{signIn:"/login"},session:{strategy:"jwt",maxAge:86400,updateAge:86400},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.username=r.username),e),session:async({session:e,token:r})=>e.user?{...e,user:{id:r.id,username:r.username,...e.user}}:e},providers:[(0,s.default)({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET}),(0,t.default)({credentials:{email:{label:"Email:",type:"text"},password:{label:"Password:",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Missing credentials");let r=await i.prisma.user.findUnique({where:{email:e?.email,password:e?.password}});if(!r)throw Error("Invalid credentials");let a=e?.email===r.email&&e?.password===r.password;return a?{id:r.id,email:r.email,username:r.username,name:r.username}:null}})]}},67779:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var t=a(4656),s=a(99752),i=a(44494),n=a.n(i),d=a(68927),c=a.n(d),o=a(95153);let l=(0,o.createProxy)(String.raw`/Users/lapptomi/recipe-app-pro/src/components/RegisterForm.tsx`),{__esModule:m,$$typeof:u}=l,p=l.default;var f=a(39228),b=a.n(f);let h=()=>(0,t.jsxs)(n(),{container:!0,sx:{height:"100vh"},children:[t.jsx(n(),{md:7,className:b().maingrid}),t.jsx(n(),{item:!0,xs:12,sm:8,md:5,component:c(),elevation:6,square:!0,children:t.jsx(s.ZP,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:t.jsx(p,{})})})]})},58065:(e,r,a)=>{"use strict";a.d(r,{prisma:()=>i});var t=a(53524);let s=global,i=s.prisma??new t.PrismaClient({log:[]})},74006:(e,r,a)=>{"use strict";a.d(r,{RecipeSchema:()=>s,UserSchema:()=>i});var t=a(74292);let s=t.z.object({title:t.z.string().min(4).max(18),description:t.z.string().min(4).max(18),ingredients:t.z.array(t.z.object({ingredient:t.z.string().min(4).max(18)})).min(1).max(200),instructions:t.z.string().min(4).max(4e3),cookingTime:t.z.number().optional(),servings:t.z.number().optional()}),i=t.z.object({email:t.z.string().email(),username:t.z.string().min(4).max(18),password:t.z.string().min(4).max(18)})},73881:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>s});var t=a(31323);let s=e=>{let r=(0,t.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:r+""}]}},23824:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),t=r.X(0,[271,837,47,323,563,292,23],()=>a(16825));module.exports=t})();