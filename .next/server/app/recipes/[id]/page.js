(()=>{var e={};e.id=836,e.ids=[836],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},36238:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=s(67096),i=s(16132),a=s(37284),n=s.n(a),o=s(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let d=["",{children:["recipes",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,39580)),"/Users/lapptomi/recipe-app-pro/src/app/recipes/[id]/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,80102)),"/Users/lapptomi/recipe-app-pro/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/lapptomi/recipe-app-pro/src/app/recipes/[id]/page.tsx"],p="/recipes/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/recipes/[id]/page",pathname:"/recipes/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},97638:(e,r,s)=>{let t={"921f314c9f907978e5ad986885d4e2362c3a4010":()=>Promise.resolve().then(s.bind(s,84041)).then(e=>e.createComment)};async function i(e,...r){let s=await t[e]();return s.apply(null,r)}e.exports={"921f314c9f907978e5ad986885d4e2362c3a4010":i.bind(null,"921f314c9f907978e5ad986885d4e2362c3a4010")}},87343:(e,r,s)=>{Promise.resolve().then(s.bind(s,75132)),Promise.resolve().then(s.bind(s,70124)),Promise.resolve().then(s.bind(s,74251)),Promise.resolve().then(s.t.bind(s,67490,23)),Promise.resolve().then(s.bind(s,12970))},75132:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>a});var t=s(43058),i=s(53854);let a=(0,t.Z)([(0,i.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"},"0"),(0,i.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime")},12970:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>p});var t=s(53854),i=s(44468),a=s(91494),n=s(30505),o=s(92747),l=s(61460);s(2377),s(38583);var d=(0,s(21716).$)("921f314c9f907978e5ad986885d4e2362c3a4010");let c=l.z.object({recipeId:l.z.number(),message:l.z.string().min(4).max(1e3)}),p=({recipe:e})=>{let{register:r,handleSubmit:s,formState:{errors:l}}=(0,o.cI)({defaultValues:{recipeId:e.id,message:""},resolver:(0,i.F)(c)});return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[t.jsx(a.Z,{error:!!l.message,helperText:l.message?.message,required:!0,fullWidth:!0,label:"Add comment",size:"small",placeholder:"Add comment",multiline:!0,minRows:6,...r("message")}),t.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:t.jsx(n.Z,{size:"small",variant:"contained",onClick:s(e=>{d(e).then(()=>{window.location.reload()}).catch(e=>{console.log("ERROR = ",e)})},e=>{console.log("ERRORS = ",e)}),children:"SEND COMMENT"})})]})}},52613:e=>{e.exports={main:"RecipePage_main__2GBjt",recipecontainer:"RecipePage_recipecontainer__hGaJB",headercontainer:"RecipePage_headercontainer__3B3El",headertitle:"RecipePage_headertitle__TZWsA",recipedatacontainer:"RecipePage_recipedatacontainer__a5bih"}},55135:e=>{e.exports={header:"TitleHeader_header__l_WF6",headertitle:"TitleHeader_headertitle__X_4ob",image:"TitleHeader_image__eMhks"}},52300:(e,r,s)=>{"use strict";let{createProxy:t}=s(95153);e.exports=t("/Users/lapptomi/recipe-app-pro/node_modules/next/dist/client/link.js")},24353:(e,r,s)=>{"use strict";e.exports=s(52300)},84041:(e,r,s)=>{"use strict";s.r(r),s.d(r,{createComment:()=>l});var t=s(68065);s(18106);var i=s(38973),a=s(68755),n=s(58065),o=s(28116);let l=async e=>{try{let r=await (0,i.getServerSession)(a.options);if(!r)throw Error("Not authenticated");let s=await n.prisma.recipeComment.create({data:{...e,authorId:Number(r.user.id)}});return s}catch(e){throw Error(e)}};(0,o.ensureServerEntryExports)([l]),(0,t.createActionProxy)("921f314c9f907978e5ad986885d4e2362c3a4010",null,l)},68755:(e,r,s)=>{"use strict";s.d(r,{options:()=>n});var t=s(98195),i=s(65183),a=s(58065);let n={pages:{signIn:"/login"},session:{strategy:"jwt",maxAge:86400,updateAge:86400},secret:process.env.NEXTAUTH_SECRET,callbacks:{jwt:async({token:e,user:r})=>(r&&(e.id=r.id,e.username=r.username),e),session:async({session:e,token:r})=>e.user?{...e,user:{id:r.id,username:r.username,...e.user}}:e},providers:[(0,i.default)({clientId:process.env.GITHUB_ID,clientSecret:process.env.GITHUB_SECRET}),(0,t.default)({credentials:{email:{label:"Email:",type:"text"},password:{label:"Password:",type:"password"}},async authorize(e){if(!e?.email||!e?.password)throw Error("Missing credentials");let r=await a.prisma.user.findUnique({where:{email:e?.email,password:e?.password}});if(!r)throw Error("Invalid credentials");let s=e?.email===r.email&&e?.password===r.password;return s?{id:r.id,email:r.email,username:r.username,name:r.username}:null}})]}},39580:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>I});var t=s(4656),i=s(95153);let a=(0,i.createProxy)(String.raw`/Users/lapptomi/recipe-app-pro/node_modules/@mui/icons-material/esm/AccessTime.js`),{__esModule:n,$$typeof:o}=a,l=a.default,d=(0,i.createProxy)(String.raw`/Users/lapptomi/recipe-app-pro/node_modules/@mui/icons-material/esm/Person.js`),{__esModule:c,$$typeof:p}=d,u=d.default;var m=s(17718),h=s(94020),x=s(56359);s(3542);var g=s(24353),v=s.n(g);let y=async({comments:e})=>(0,t.jsxs)(m.List,{style:{display:"flex",flexDirection:"column",width:"100%",background:"white"},children:[t.jsx(m.Divider,{children:(0,t.jsxs)(m.Typography,{variant:"body1",children:[e.length," COMMENTS"]})}),e.map((e,r)=>(0,t.jsxs)(m.ListItem,{style:{background:"#f9f9f9",borderRadius:5,margin:"10px 0px 10px 0px",padding:10},children:[t.jsx(m.ListItemAvatar,{children:t.jsx(m.Avatar,{})}),t.jsx(m.ListItemText,{primary:t.jsx(m.Typography,{variant:"body1",children:t.jsx(v(),{href:`/profiles/${e.authorId}`,children:e.author.username})}),secondary:e.message})]},r))]}),j=(0,i.createProxy)(String.raw`/Users/lapptomi/recipe-app-pro/src/components/RecipeCommentForm.tsx`),{__esModule:f,$$typeof:_}=j,w=j.default;var b=s(68406),T=s(4855),P=s(52613),q=s.n(P);let E=async({params:e})=>{let r=await (0,h.getServerSession)(x.Y),s=await T._.recipe.findUnique({where:{id:parseInt(e.id)},include:{author:!0,comments:{include:{author:!0}}}});return s?t.jsx("div",{className:q().main,children:(0,t.jsxs)("div",{className:q().recipecontainer,children:[t.jsx("div",{className:q().headercontainer,children:(0,t.jsxs)("div",{className:q().headertitle,children:[t.jsx(m.Typography,{variant:"h4",children:s.title.toUpperCase()}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[t.jsx(m.Avatar,{sx:{width:80,height:80}}),(0,t.jsxs)("div",{children:[t.jsx(m.Typography,{variant:"body1",children:s.author?.username}),t.jsx(m.Rating,{size:"large",name:"simple-controlled",value:s.rating||2})]})]})]})}),(0,t.jsxs)("div",{className:q().recipedatacontainer,children:[(0,t.jsxs)(m.Divider,{children:[t.jsx(m.Typography,{variant:"h5",children:"ABOUT"}),(0,t.jsxs)(m.Typography,{variant:"overline",children:[t.jsx(l,{color:"primary"}),s.cookingTime," minutes"]}),(0,t.jsxs)(m.Typography,{variant:"overline",children:[t.jsx(u,{color:"primary"}),s.servings," servings"]})]}),t.jsx(m.Typography,{variant:"body1",children:s.description}),t.jsx(m.Divider,{children:t.jsx(m.Typography,{variant:"h5",children:"INGREDIENTS"})}),t.jsx(m.List,{dense:!0,children:s.ingredients.map((e,r)=>t.jsx(m.ListItem,{children:(0,t.jsxs)(m.Typography,{variant:"body2",children:["- ",e," ",t.jsx("br",{})]},r)},e))}),t.jsx(m.Divider,{children:t.jsx(m.Typography,{variant:"h5",children:"INSTRUCTIONS"})}),t.jsx(m.Typography,{variant:"body1",style:{whiteSpace:"pre-line"},children:s.instructions}),(0,t.jsxs)("div",{children:[t.jsx(y,{comments:s.comments??[]}),r?.user&&s?t.jsx(w,{recipe:s}):t.jsx(m.Typography,{variant:"body1",children:"Please sign in to comment..."})]})]})]})}):t.jsx(b.Z,{title:"Recipe not found"})},I=E},68406:(e,r,s)=>{"use strict";s.d(r,{Z:()=>o});var t=s(4656),i=s(17718),a=s(55135),n=s.n(a);let o=({title:e})=>(0,t.jsxs)("div",{className:n().header,children:[t.jsx("div",{className:n().image}),t.jsx("div",{className:n().headertitle,children:t.jsx(i.Typography,{variant:"h5",color:"white",children:e||""})})]})},58065:(e,r,s)=>{"use strict";s.d(r,{prisma:()=>a});var t=s(53524);let i=global,a=i.prisma??new t.PrismaClient({log:[]})},73881:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>i});var t=s(31323);let i=e=>{let r=(0,t.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:r+""}]}}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[271,837,47,323,563,23],()=>s(36238));module.exports=t})();